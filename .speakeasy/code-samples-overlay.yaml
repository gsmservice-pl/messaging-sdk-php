overlay: 1.0.0
info:
  title: CodeSamples overlay for php target
  version: 0.0.0
actions:
  - target: $["paths"]["/account"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->accounts->get(

            );

            if ($response->accountResponse !== null) {
                // handle response
            }
  - target: $["paths"]["/account/{user_login}"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->accounts->getSubaccount(
                userLogin: 'some-login'
            );

            if ($response->accountResponse !== null) {
                // handle response
            }
  - target: $["paths"]["/incoming"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->incoming->list(
                page: 1,
                limit: 10

            );

            if ($response->incomingMessages !== null) {
                // handle response
            }
  - target: $["paths"]["/incoming/{ids}"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->incoming->getByIds(
                ids: [
                    43456,
                ]
            );

            if ($response->incomingMessages !== null) {
                // handle response
            }
  - target: $["paths"]["/messages"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->outgoing->list(
                page: 1,
                limit: 10

            );

            if ($response->messages !== null) {
                // handle response
            }
  - target: $["paths"]["/messages/sms"]["post"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;
            use Gsmservice\Gateway\Models\Components;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();

            $request = [
                new Components\Sms(
                    recipients: [
                        '+48999999999',
                    ],
                    message: 'To jest treść wiadomości',
                    sender: 'Bramka SMS',
                    type: Components\SmsType::SmsPro,
                    unicode: true,
                    flash: false,
                    date: null,
                ),
            ];

            $response = $sdk->outgoing->sms->send(
                request: $request
            );

            if ($response->messages !== null) {
                // handle response
            }
  - target: $["paths"]["/messages/sms/price"]["post"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;
            use Gsmservice\Gateway\Models\Components;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();

            $request = [
                new Components\Sms(
                    recipients: new Components\PhoneNumberWithCid(
                        nr: '+48999999999',
                        cid: 'my-id-1113',
                    ),
                    message: 'To jest treść wiadomości',
                    sender: 'Bramka SMS',
                    type: Components\SmsType::SmsPro,
                    unicode: true,
                    flash: false,
                    date: null,
                ),
            ];

            $response = $sdk->outgoing->sms->getPrice(
                request: $request
            );

            if ($response->prices !== null) {
                // handle response
            }
  - target: $["paths"]["/messages/{ids}"]["delete"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->outgoing->cancelScheduled(
                ids: [
                    43456,
                ]
            );

            if ($response->cancelledMessages !== null) {
                // handle response
            }
  - target: $["paths"]["/messages/{ids}"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->outgoing->getByIds(
                ids: [
                    43456,
                ]
            );

            if ($response->messages !== null) {
                // handle response
            }
  - target: $["paths"]["/ping"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $sdk = Gateway\Client::builder()->build();



            $response = $sdk->common->ping(

            );

            if ($response->pingResponse !== null) {
                // handle response
            }
  - target: $["paths"]["/senders"]["get"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->senders->list(

            );

            if ($response->senders !== null) {
                // handle response
            }
  - target: $["paths"]["/senders"]["post"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;
            use Gsmservice\Gateway\Models\Components;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();

            $request = new Components\SenderInput(
                sender: 'Bramka SMS',
                description: 'This is our company name. It contains our registered trademark.',
            );

            $response = $sdk->senders->add(
                request: $request
            );

            if ($response->sender !== null) {
                // handle response
            }
  - target: $["paths"]["/senders/{sender}"]["delete"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->senders->delete(
                sender: 'Podpis'
            );

            if ($response->statusCode === 200) {
                // handle response
            }
  - target: $["paths"]["/senders/{sender}"]["patch"]
    update:
      x-codeSamples:
        - lang: php
          label: PHP 8 SDK
          source: |-
            declare(strict_types=1);

            require 'vendor/autoload.php';

            use Gsmservice\Gateway;

            $security = '<YOUR API ACCESS TOKEN>';

            $sdk = Gateway\Client::builder()->setSecurity($security)->build();



            $response = $sdk->senders->setDefault(
                sender: 'Podpis'
            );

            if ($response->statusCode === 200) {
                // handle response
            }
